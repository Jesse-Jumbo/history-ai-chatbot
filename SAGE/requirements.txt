# =============================================================================
# SAGE - Self-Aging Generative Experience
# Environment Snapshot: Windows + RTX 5090 (Blackwell)
# Date: 2025-12-29
# =============================================================================

# -----------------------------------------------------------------------------
# [核心核心：PyTorch Nightly 說明]
# ⚠️ 注意：RTX 50 系列必須使用 PyTorch Nightly (CUDA 12.8)。
# 這份清單將 Torch 註解掉，以免 pip 嘗試安裝錯誤的穩定版。
# 請務必手動執行：
# pip install --pre torch torchvision --index-url https://download.pytorch.org/whl/nightly/cu128
# -----------------------------------------------------------------------------
# torch==2.11.0.dev20251228+cu128
# torchvision==0.25.0.dev20251228+cu128

# Core Dependencies (基於目前成功運作的版本)
numpy==2.2.6
scipy==1.15.3
pillow==12.0.0
opencv-python==4.12.0.88
tqdm==4.67.1

# Face Detection & Alignment
# dlib 已手動安裝 whl 檔 (19.22.99)，這裡保留版本要求即可
dlib>=19.22.0
mediapipe==0.10.31

# Model Download
gdown==5.2.0

# AI Generation (Diffusers / Transformers)
# -----------------------------------------------------------------------------
# ⚠️ 關鍵設定：
# transformers 被鎖定在 4.46.3 以避開 PyTorch 2.6 的 "torch.load" 安全檢查報錯。
# diffusers 和 accelerate 更新到你目前的版本以配合 RTX 5090。
# -----------------------------------------------------------------------------
diffusers==0.36.0
transformers==4.46.3
accelerate==1.12.0
huggingface-hub==0.36.0
safetensors==0.7.0

# API & Web Server
fastapi==0.128.0
uvicorn==0.40.0
python-multipart==0.0.21
httpx==0.28.1

# Utilities & Visualization
python-dotenv==1.2.1
matplotlib==3.10.8
tensorboard==2.20.0
# 補上缺少的 IPython (解決 Null Inversion 報錯)
ipython==8.37.0

# Build Tools & Testing
ninja==1.13.0
pytest==9.0.2
black==25.12.0